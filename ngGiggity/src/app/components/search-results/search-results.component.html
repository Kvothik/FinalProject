<!-- Button trigger modal -->
<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal">
    Launch demo modal
  </button>

  <!-- Modal -->
  <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          ...
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
          <button type="button" class="btn btn-primary">Save changes</button>
        </div>
      </div>
    </div>
  </div>



<!-- START BY DISPLAYING SEARCH FORM -->
<div *ngIf="beginSearch" class="container-fluid">
  <div class="container">
    <div class="row">
      <div class="col-2"></div>
      <div class="col-8">
        <form name="jobTitle">
          <h3>Search For Gigs</h3>
          <hr />
          <div class="form-group">
            <label name="jobtitle" for="jobtitle">Gig Title</label>
            <input
              name="jobtitle"
              type="jobtitle"
              class="form-control"
              id="jobtitle"
              placeholder="Gig Title"
              [(ngModel)]="jobTitle"
              [ngModelOptions]="{ standalone: true }"
            />
          </div>
          <button
            type="button"
            class="btn btn-primary btn-block btn-block"
            (click)="jobsByTitle()"
          >
            Search by Gig Title
          </button>
        </form>
        <br />
        <form name="jobSkill">
          <div class="form-group">
            <label name="jobskill" for="jobskill">Skill</label>
            <input
              name="jobskill"
              type="jobskill"
              class="form-control"
              id="jobskill"
              placeholder="Skill"
              [(ngModel)]="jobSkillName"
              [ngModelOptions]="{ standalone: true }"
            />
          </div>
          <button
            type="button"
            class="btn btn-primary btn-block btn-block"
            (click)="jobBySkillName()"
          >
            Search by Skill
          </button>
        </form>
        <br />
        <form name="jobSkill">
          <div class="form-group">
            <label name="jobCity" for="jobCity">City</label>
            <input
              name="jobCity"
              type="jobCity"
              class="form-control"
              id="jobCity"
              placeholder="City"
              [(ngModel)]="jobCity"
              [ngModelOptions]="{ standalone: true }"
            />
          </div>
          <button
            type="button"
            class="btn btn-primary btn-block btn-block"
            (click)="jobByCity()"
          >
            Search by City
          </button>
        </form>
        <br />
        <form name="username">
            <h3>Search Users</h3>
    <hr />
        <div class="form-group">
            <label name="username" for="username">Username</label>
            <input
              name="username"
              type="username"
              class="form-control"
              id="username"
              placeholder="Username"
              [(ngModel)]="username"
              [ngModelOptions]="{ standalone: true }"
            />
          </div>
          <button
            type="button"
            class="btn btn-primary btn-block btn-block"
            (click)="searchByUsername()"
          >
            Search by Username
          </button>
        </form>

        <br />
        <form name="jobRemote">
          <button
            type="button"
            class="btn btn-primary btn-block btn-block"
            (click)="jobByRemote()"
          >
            Search all Remote Gigs
          </button>
        </form>
      </div>
      <div class="col-2"></div>
    </div>
  </div>
</div>

<div *ngIf="users && !jobs">
  <h1 class="text-dark"><span>User Search Results</span></h1>
  <table
    class="table table-striped table-hover table-danger border border-info"
  >
    <thead class="thead thead-dark">
      <tr>
        <th>User Id</th>
        <th>First Name</th>
        <th>Last Name</th>
        <th>Username</th>
        <th>Email</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let user of users" class="border border-info">
        <td>{{ user.id }}</td>
        <td>{{ user.firstName }}</td>
        <td>{{ user.lastName }}</td>
        <td>{{ user.username }}</td>
        <td>{{ user.email }}</td>
      </tr>
    </tbody>
    <tfoot>
      <tr>
        <td>
          <button
            type="button"
            class="btn btn-secondary"
            (click)="backToSearch()"
          >
            Back to Search
          </button>
        </td>
      </tr>
    </tfoot>
  </table>
</div>
<br />

<div *ngIf="!selected && !beginSearch && jobs !== null && !users">
  <h1 class="text-dark">
    <span
      >Available Gigs Matching Your Search: {{jobs.length}}
      <h6>(select for more details)</h6>
    </span>
  </h1>
  <table
    class="table table-striped table-hover table-danger border border-info"
  >
    <thead class="thead thead-dark">
      <tr>
        <th>Job</th>
        <th>Skill</th>
        <th>Price</th>
        <th>Address</th>
      </tr>
    </thead>
    <tbody>
      <tr #data (click)="displaySelected(job)" class="border border-info" *ngFor="let job of jobs | jobsActive">
        <td><img [src]="job.imageUrl" class="img-thumbnail picture hidden-xs" style="width: 150px; height: 150px"/>
          {{ job.title }}</td>
        <td>{{ job.skill.name }}</td>
        <td>{{ job.price }}</td>
        <td *ngIf="job.address != null">{{ job.address.state }}</td>
        <td *ngIf="job.address == null">Remote</td>
      </tr>
    </tbody>
    <tfoot>
      <tr>
        <td>
          <button
            type="button"
            class="btn btn-secondary"
            (click)="backToSearch()"
          >
          New Search
          </button>
        </td>
      </tr>
    </tfoot>
  </table>
</div>
<br />

<!-- <h1 *ngFor="let user of users" >{{user.firstName}}</h1> -->

<div
  *ngIf="selected && !updateGig"
  class="card text-center border-dark mb-3 w-50"
  style="width: 18rem;"
>
  <div class="card-header text-white bg-dark">
    Created By: {{ selected.user.username }}
  </div>
  <img class="card-img-top" [src]="selected.imageUrl" alt="Job Image" />
  <div class="card-body">
    <h5 class="card-title">{{ selected.title | uppercase }}</h5>
    <hr />
    <h5 class="card-title">Gig Details:</h5>
    <blockquote class="card-text">{{ selected.description }}</blockquote>
    <br />
    <div class="text-center">
      <strong>Price: </strong>{{ selected.price | currency }}
      <br />
      <strong>Category: </strong>{{ selected.skill.name }}
      <br />
      <strong>Date Created: </strong>{{ selected.dateCreated | date: "short" }}
      <br />
      <a *ngIf="selected.dateupdated !== null"
        ><strong>Date Last Updated: </strong>{{ selected.dateupdated }}</a
      >
      <br />
    </div>
    <br />
    <div class="text-center">
      <br />
      <hr />
      <ng-container class="container-fluid">
        <button class="btn btn-success" (click)="createBookingBuyer()">
          B o o k
        </button>
        <button class="btn btn-info" (click)="displaySelected(null)">
          B A C K
        </button>
      </ng-container>
    </div>
  </div>
</div>
